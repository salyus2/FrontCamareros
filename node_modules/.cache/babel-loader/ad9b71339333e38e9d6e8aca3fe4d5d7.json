{"ast":null,"code":"import _slicedToArray from \"/home/hab14/Nuva CArpeta/proyecto1/restaurant-proyect/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/hab14/Nuva CArpeta/proyecto1/restaurant-proyect/src/components/PayOrder.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useOrder } from \"../shared/context/order-context\";\nimport { getBill } from \"../http/authService\";\nimport { useHistory } from \"react-router\";\nimport \"../css/pedido.css\";\n\nfunction PayOrder() {\n  const history = useHistory();\n\n  const _useOrder = useOrder(),\n        order = _useOrder.order;\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        orderToPay = _useState2[0],\n        setOrderToPay = _useState2[1];\n\n  const totalPrice = orderToPay.reduce((acc, item) => acc + item.quantity * parseInt(item.price, 0), 0);\n  useEffect(() => {\n    getBill({\n      order\n    }).then(response => setOrderToPay(response.data));\n  }, [order]);\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, React.createElement(\"main\", {\n    className: \"order\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, React.createElement(\"header\", {\n    className: \"home\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, \"Aldach Has\"), React.createElement(\"button\", {\n    className: \"btn call\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, \"Ayuda\"), React.createElement(\"button\", {\n    className: \"product-menu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"/\",\n    onClick: e => {\n      e.preventDefault();\n      history.goBack();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, \"Volver\"))), React.createElement(\"section\", {\n    className: \"order\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"order\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, orderToPay.map(item => React.createElement(\"li\", {\n    className: \"order\",\n    key: item.idProduct,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"article\", {\n    className: \"order\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: `/product/${item.idProduct}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, `${item.name} `)), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \" Precio unidad: \", `${item.price}€`), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"Cantidad: \", item.quantity))))), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"IVA = \", `${Number((totalPrice / 1.21).toFixed(2))}€`), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Total = \", `${Number(totalPrice.toFixed(2))}€`)), React.createElement(\"footer\", {\n    className: \"order\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"menu order\",\n    onClick: () => history.push(\"/confirmation\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Pagar con tarjeta\")))));\n}\n\nexport { PayOrder };","map":{"version":3,"sources":["/home/hab14/Nuva CArpeta/proyecto1/restaurant-proyect/src/components/PayOrder.js"],"names":["React","useState","useEffect","Link","useOrder","getBill","useHistory","PayOrder","history","order","orderToPay","setOrderToPay","totalPrice","reduce","acc","item","quantity","parseInt","price","then","response","data","e","preventDefault","goBack","map","idProduct","name","Number","toFixed","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useOrder } from \"../shared/context/order-context\"\nimport { getBill } from \"../http/authService\"\n\n\nimport { useHistory } from \"react-router\";\n\nimport \"../css/pedido.css\"\n\nfunction PayOrder() {\n    const history = useHistory();\n    const { order } = useOrder();\n    const [orderToPay, setOrderToPay] = useState([])\n\n    const totalPrice = orderToPay.reduce(\n        (acc, item) => acc + item.quantity * parseInt(item.price, 0),\n        0\n    );\n    useEffect(() => { getBill({ order }).then(response => setOrderToPay(response.data)) }, [order])\n\n    return (\n        <React.Fragment>\n            <main className=\"order\">\n                <header className=\"home\">\n                    <h1>Aldach Has</h1>\n                    <button className=\"btn call\">Ayuda</button>\n                    <button className=\"product-menu\"><a\n                        href=\"/\"\n                        onClick={e => {\n                            e.preventDefault();\n                            history.goBack();\n                        }}\n                    >\n                        Volver\n            </a></button>\n                </header>\n                <section className=\"order\">\n                    <ul className=\"order\">\n                        {orderToPay.map(item => (\n                            <li className=\"order\" key={item.idProduct}>\n                                <article className=\"order\">\n                                    <h3><Link to={`/product/${item.idProduct}`}>{`${item.name} `}</Link></h3>\n                                    <p> Precio unidad: {`${item.price}€`}</p>\n                                    <p>Cantidad: {item.quantity}</p>\n                                </article>\n                            </li>\n                        ))}\n                    </ul>\n                    <p>IVA = {`${Number((totalPrice / 1.21).toFixed(2))}€`}</p>\n                    <p>Total = {`${Number(totalPrice.toFixed(2))}€`}</p>\n                </section>\n                <footer className=\"order\">\n                    <React.Fragment>\n                        <button className=\"menu order\" onClick={() => history.push(\"/confirmation\")}>Pagar con tarjeta</button>\n                    </React.Fragment>\n                </footer>\n            </main>\n        </React.Fragment >\n    )\n}\n\n\nexport { PayOrder };"]},"metadata":{},"sourceType":"module"}