{"ast":null,"code":"var _jsxFileName = \"/home/hab14/Nuva CArpeta/proyecto1/restaurant-proyect/src/routes/Login.js\";\nimport React from 'react';\nimport { Link } from \"react-router-dom\";\nimport useForm from 'react-hook-form';\nimport { useAuth } from '../shared/context/auth-context';\nimport \"../css/login.css\";\n\nfunction Login() {\n  const _useAuth = useAuth(),\n        signIn = _useAuth.signIn;\n\n  const _useForm = useForm({\n    mode: \"onBlur\"\n  }),\n        register = _useForm.register,\n        handleSubmit = _useForm.handleSubmit,\n        formState = _useForm.formState,\n        errors = _useForm.errors,\n        setError = _useForm.setError,\n        setValue = _useForm.setValue; // console.log(\"WATCH: \", watch());\n\n\n  console.log(\"STATE: \", formState); // console.log(\"ERRORS:\", errors);\n\n  const handleSignin = formData => {\n    signIn(formData).then(data => console.log(data)).catch(error => {\n      setError(\"password\", \"invalidCredentials\", \"Password or email are incorrect\");\n    });\n    setValue(\"password\", \"\");\n    setValue(\"email\", \"\");\n  };\n\n  const isFieldValid = name => {\n    return errors[name] ? \"ko\" : formState.touched.includes(name) && \"ok\";\n  };\n\n  return React.createElement(\"main\", {\n    className: \"registro login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Introdute tus datos\"), React.createElement(\"form\", {\n    onSubmit: handleSubmit(handleSignin),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"fieldset\", {\n    className: \"form-control \".concat(isFieldValid(\"email\")),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"input\", {\n    className: \"registro\",\n    ref: register({\n      required: \"The email is required\",\n      pattern: {\n        message: \"The email is not valid\",\n        value: /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n      }\n    }),\n    id: \"email\",\n    name: \"email\",\n    type: \"text\",\n    placeholder: \"Enter your email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"errorMessage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, errors.email && errors.email.message)), React.createElement(\"fieldset\", {\n    className: \"form-control \".concat(isFieldValid(\"password\")),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    className: \"registro\",\n    ref: register({\n      required: \"The password is requerid\",\n      minLength: {\n        message: \"Password length should be greater than 5\",\n        value: 5\n      }\n    }),\n    id: \"password\",\n    name: \"password\",\n    type: \"password\",\n    placeholder: \"Enter your password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  })), React.createElement(\"span\", {\n    className: \"errorMessage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, errors.password && errors.password.message), React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn\",\n    disabled: formState.isSubmitting || errors.email || errors.password || formState.touched.length < 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Entrar\"), React.createElement(Link, {\n    to: \"/registro\",\n    className: \"registro\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, \"Registrarse\"), React.createElement(Link, {\n    to: \"/recuperar-contrasena\",\n    className: \"registro\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"Recuperar contrase\\xF1a\")));\n}\n\nexport { Login };","map":{"version":3,"sources":["/home/hab14/Nuva CArpeta/proyecto1/restaurant-proyect/src/routes/Login.js"],"names":["React","Link","useForm","useAuth","Login","signIn","mode","register","handleSubmit","formState","errors","setError","setValue","console","log","handleSignin","formData","then","data","catch","error","isFieldValid","name","touched","includes","required","pattern","message","value","email","minLength","password","isSubmitting","length"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from \"react-router-dom\";\nimport useForm from 'react-hook-form'\nimport { useAuth } from '../shared/context/auth-context'\n\n\nimport \"../css/login.css\"\n\n\nfunction Login() {\n    const { signIn } = useAuth();\n    const {\n        register,\n        handleSubmit,\n        formState,\n        errors,\n        setError,\n        setValue\n    } = useForm({\n        mode: \"onBlur\"\n    });\n\n    // console.log(\"WATCH: \", watch());\n    console.log(\"STATE: \", formState);\n    // console.log(\"ERRORS:\", errors);\n\n    const handleSignin = formData => {\n        signIn(formData)\n            .then(data => console.log(data))\n            .catch(error => {\n                setError(\"password\", \"invalidCredentials\", \"Password or email are incorrect\");\n            });\n        setValue(\"password\", \"\");\n        setValue(\"email\", \"\")\n    };\n\n    const isFieldValid = name => {\n        return errors[name] ? \"ko\" : formState.touched.includes(name) && \"ok\";\n    };\n\n    return (\n\n        <main className=\"registro login\" >\n            <h3>Introdute tus datos</h3>\n            <form onSubmit={handleSubmit(handleSignin)}>\n                <fieldset className={`form-control ${isFieldValid(\"email\")}`}>\n                    <label >Email</label>\n                    <input className=\"registro\"\n                        ref={register({\n                            required: \"The email is required\",\n                            pattern: {\n                                message: \"The email is not valid\",\n                                value: /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n                            }\n                        })}\n                        id=\"email\"\n                        name=\"email\"\n                        type=\"text\"\n                        placeholder=\"Enter your email\"\n                    />\n                    <span className=\"errorMessage\">\n                        {errors.email && errors.email.message}\n                    </span>\n                </fieldset>\n                <fieldset className={`form-control ${isFieldValid(\"password\")}`}>\n                    <label>Password</label>\n                    <input className=\"registro\"\n                        ref={register({\n                            required: \"The password is requerid\",\n                            minLength: {\n                                message: \"Password length should be greater than 5\",\n                                value: 5\n                            }\n                        })}\n                        id=\"password\"\n                        name=\"password\"\n                        type=\"password\"\n                        placeholder=\"Enter your password\"\n                    />\n                </fieldset>\n                <span className=\"errorMessage\">\n                    {errors.password && errors.password.message}\n                </span>\n                <button\n                    type=\"submit\"\n                    className=\"btn\"\n                    disabled={formState.isSubmitting || errors.email || errors.password || formState.touched.length < 2}\n                >\n                    Entrar\n                    </button>\n                <Link to=\"/registro\" className=\"registro\">Registrarse</Link>\n                <Link to=\"/recuperar-contrasena\" className=\"registro\">Recuperar contraseña</Link>\n            </form>\n        </main>\n\n    );\n}\n\nexport { Login };\n"]},"metadata":{},"sourceType":"module"}